{"remainingRequest":"/Users/predragradovanovic/ChessCraft/node_modules/babel-loader/lib/index.js!/Users/predragradovanovic/ChessCraft/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/predragradovanovic/ChessCraft/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/predragradovanovic/ChessCraft/src/newboard.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/predragradovanovic/ChessCraft/src/newboard.vue","mtime":1633111450000},{"path":"/Users/predragradovanovic/ChessCraft/babel.config.js","mtime":1633111450000},{"path":"/Users/predragradovanovic/ChessCraft/node_modules/cache-loader/dist/cjs.js","mtime":1715547898282},{"path":"/Users/predragradovanovic/ChessCraft/node_modules/babel-loader/lib/index.js","mtime":1715547897664},{"path":"/Users/predragradovanovic/ChessCraft/node_modules/cache-loader/dist/cjs.js","mtime":1715547898282},{"path":"/Users/predragradovanovic/ChessCraft/node_modules/vue-loader/lib/index.js","mtime":1715547905898}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY2hlc3Nib2FyZCB9IGZyb20gJ3Z1ZS1jaGVzc2JvYXJkJzsKaW1wb3J0IGJ1cyBmcm9tICcuL2J1cy5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbmV3Ym9hcmQnLAogIGV4dGVuZHM6IGNoZXNzYm9hcmQsCiAgbWV0aG9kczogewogICAgdW5kbygpIHsKICAgICAgdGhpcy5nYW1lLnVuZG8oKTsKICAgICAgdGhpcy5ib2FyZC5zZXQoewogICAgICAgIGZlbjogdGhpcy5nYW1lLmZlbigpCiAgICAgIH0pOwogICAgfSwKICAgIHVzZXJQbGF5KCkgewogICAgICByZXR1cm4gKG9yaWcsIGRlc3QpID0+IHsKICAgICAgICBpZiAodGhpcy5pc1Byb21vdGlvbihvcmlnLCBkZXN0KSkgewogICAgICAgICAgdGhpcy5wcm9tb3RlVG8gPSB0aGlzLm9uUHJvbW90aW9uKCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuZ2FtZS5tb3ZlKHsKICAgICAgICAgIGZyb206IG9yaWcsCiAgICAgICAgICB0bzogZGVzdCwKICAgICAgICAgIHByb21vdGlvbjogdGhpcy5wcm9tb3RlVG8KICAgICAgICB9KTsgLy8gcHJvbW90ZSB0byBxdWVlbiBmb3Igc2ltcGxpY2l0eQogICAgICAgIHRoaXMuYm9hcmQuc2V0KHsKICAgICAgICAgIGZlbjogdGhpcy5nYW1lLmZlbigpCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jYWxjdWxhdGVQcm9tb3Rpb25zKCk7CiAgICAgICAgdGhpcy5haU5leHRNb3ZlKCk7CiAgICAgIH07CiAgICB9LAogICAgYWlOZXh0TW92ZSgpIHsKICAgICAgbGV0IG1vdmVzID0gdGhpcy5nYW1lLm1vdmVzKHsKICAgICAgICB2ZXJib3NlOiB0cnVlCiAgICAgIH0pOwogICAgICBsZXQgcmFuZG9tTW92ZSA9IG1vdmVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1vdmVzLmxlbmd0aCldOwogICAgICB0aGlzLmdhbWUubW92ZShyYW5kb21Nb3ZlKTsKICAgICAgdGhpcy5ib2FyZC5zZXQoewogICAgICAgIGZlbjogdGhpcy5nYW1lLmZlbigpLAogICAgICAgIHR1cm5Db2xvcjogdGhpcy50b0NvbG9yKCksCiAgICAgICAgbW92YWJsZTogewogICAgICAgICAgY29sb3I6IHRoaXMudG9Db2xvcigpLAogICAgICAgICAgZGVzdHM6IHRoaXMucG9zc2libGVNb3ZlcygpLAogICAgICAgICAgZXZlbnRzOiB7CiAgICAgICAgICAgIGFmdGVyOiB0aGlzLnVzZXJQbGF5KCkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuYm9hcmQuc2V0KHsKICAgICAgbW92YWJsZTogewogICAgICAgIGV2ZW50czogewogICAgICAgICAgYWZ0ZXI6IHRoaXMudXNlclBsYXkoKQogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBjcmVhdGVkKCkgewogICAgYnVzLiRvbigndW5kbycsICgpID0+IHsKICAgICAgdGhpcy51bmRvKCk7CiAgICB9KTsKICB9Cn07"},{"version":3,"names":["chessboard","bus","name","extends","methods","undo","game","board","set","fen","userPlay","orig","dest","isPromotion","promoteTo","onPromotion","move","from","to","promotion","calculatePromotions","aiNextMove","moves","verbose","randomMove","Math","floor","random","length","turnColor","toColor","movable","color","dests","possibleMoves","events","after","mounted","created","$on"],"sources":["src/newboard.vue"],"sourcesContent":["\n<script>\nimport { chessboard }  from 'vue-chessboard'\nimport bus from './bus.js'\n\nexport default {\n  name: 'newboard',\n  extends: chessboard,\n  methods: {\n    undo() {\n      this.game.undo()\n      this.board.set({fen: this.game.fen()})\n    },\n    userPlay() {\n      return (orig, dest) => {\n        if (this.isPromotion(orig, dest)) {\n          this.promoteTo = this.onPromotion()\n        }\n        this.game.move({from: orig, to: dest, promotion: this.promoteTo}) // promote to queen for simplicity\n        this.board.set({\n          fen: this.game.fen()\n        })\n        this.calculatePromotions()\n        this.aiNextMove()\n      };\n    },\n    aiNextMove() {\n      let moves = this.game.moves({verbose: true})\n      let randomMove = moves[Math.floor(Math.random() * moves.length)]\n      this.game.move(randomMove)\n\n      this.board.set({\n        fen: this.game.fen(),\n        turnColor: this.toColor(),\n        movable: {\n          color: this.toColor(),\n          dests: this.possibleMoves(),\n          events: { after: this.userPlay()},\n        }\n      });\n    },\n  },\n  mounted() {\n    this.board.set({\n      movable: { events: { after: this.userPlay()} },\n    })\n  },\n  created() {\n    bus.$on('undo', () => {\n      this.undo()\n    })\n  }\n}\n</script>\n"],"mappings":"AAEA,SAAAA,UAAA;AACA,OAAAC,GAAA;AAEA;EACAC,IAAA;EACAC,OAAA,EAAAH,UAAA;EACAI,OAAA;IACAC,KAAA;MACA,KAAAC,IAAA,CAAAD,IAAA;MACA,KAAAE,KAAA,CAAAC,GAAA;QAAAC,GAAA,OAAAH,IAAA,CAAAG,GAAA;MAAA;IACA;IACAC,SAAA;MACA,QAAAC,IAAA,EAAAC,IAAA;QACA,SAAAC,WAAA,CAAAF,IAAA,EAAAC,IAAA;UACA,KAAAE,SAAA,QAAAC,WAAA;QACA;QACA,KAAAT,IAAA,CAAAU,IAAA;UAAAC,IAAA,EAAAN,IAAA;UAAAO,EAAA,EAAAN,IAAA;UAAAO,SAAA,OAAAL;QAAA;QACA,KAAAP,KAAA,CAAAC,GAAA;UACAC,GAAA,OAAAH,IAAA,CAAAG,GAAA;QACA;QACA,KAAAW,mBAAA;QACA,KAAAC,UAAA;MACA;IACA;IACAA,WAAA;MACA,IAAAC,KAAA,QAAAhB,IAAA,CAAAgB,KAAA;QAAAC,OAAA;MAAA;MACA,IAAAC,UAAA,GAAAF,KAAA,CAAAG,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,MAAA,KAAAL,KAAA,CAAAM,MAAA;MACA,KAAAtB,IAAA,CAAAU,IAAA,CAAAQ,UAAA;MAEA,KAAAjB,KAAA,CAAAC,GAAA;QACAC,GAAA,OAAAH,IAAA,CAAAG,GAAA;QACAoB,SAAA,OAAAC,OAAA;QACAC,OAAA;UACAC,KAAA,OAAAF,OAAA;UACAG,KAAA,OAAAC,aAAA;UACAC,MAAA;YAAAC,KAAA,OAAA1B,QAAA;UAAA;QACA;MACA;IACA;EACA;EACA2B,QAAA;IACA,KAAA9B,KAAA,CAAAC,GAAA;MACAuB,OAAA;QAAAI,MAAA;UAAAC,KAAA,OAAA1B,QAAA;QAAA;MAAA;IACA;EACA;EACA4B,QAAA;IACArC,GAAA,CAAAsC,GAAA;MACA,KAAAlC,IAAA;IACA;EACA;AACA","ignoreList":[]}]}
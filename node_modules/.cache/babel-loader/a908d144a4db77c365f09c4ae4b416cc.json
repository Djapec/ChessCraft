{"remainingRequest":"/Users/predragradovanovic/Documents/chess/vue-chessgame/node_modules/babel-loader/lib/index.js!/Users/predragradovanovic/Documents/chess/vue-chessgame/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/predragradovanovic/Documents/chess/vue-chessgame/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/predragradovanovic/Documents/chess/vue-chessgame/src/newboard.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/predragradovanovic/Documents/chess/vue-chessgame/src/newboard.vue","mtime":1633111450000},{"path":"/Users/predragradovanovic/Documents/chess/vue-chessgame/babel.config.js","mtime":1633111450000},{"path":"/Users/predragradovanovic/Documents/chess/vue-chessgame/node_modules/cache-loader/dist/cjs.js","mtime":1715547898282},{"path":"/Users/predragradovanovic/Documents/chess/vue-chessgame/node_modules/babel-loader/lib/index.js","mtime":1715547897664},{"path":"/Users/predragradovanovic/Documents/chess/vue-chessgame/node_modules/cache-loader/dist/cjs.js","mtime":1715547898282},{"path":"/Users/predragradovanovic/Documents/chess/vue-chessgame/node_modules/vue-loader/lib/index.js","mtime":1715547905898}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY2hlc3Nib2FyZCB9IGZyb20gJ3Z1ZS1jaGVzc2JvYXJkJzsKaW1wb3J0IGJ1cyBmcm9tICcuL2J1cy5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbmV3Ym9hcmQnLAogIGV4dGVuZHM6IGNoZXNzYm9hcmQsCiAgbWV0aG9kczogewogICAgdW5kbzogZnVuY3Rpb24gdW5kbygpIHsKICAgICAgdGhpcy5nYW1lLnVuZG8oKTsKICAgICAgdGhpcy5ib2FyZC5zZXQoewogICAgICAgIGZlbjogdGhpcy5nYW1lLmZlbigpCiAgICAgIH0pOwogICAgfSwKICAgIHVzZXJQbGF5OiBmdW5jdGlvbiB1c2VyUGxheSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvcmlnLCBkZXN0KSB7CiAgICAgICAgaWYgKF90aGlzLmlzUHJvbW90aW9uKG9yaWcsIGRlc3QpKSB7CiAgICAgICAgICBfdGhpcy5wcm9tb3RlVG8gPSBfdGhpcy5vblByb21vdGlvbigpOwogICAgICAgIH0KICAgICAgICBfdGhpcy5nYW1lLm1vdmUoewogICAgICAgICAgZnJvbTogb3JpZywKICAgICAgICAgIHRvOiBkZXN0LAogICAgICAgICAgcHJvbW90aW9uOiBfdGhpcy5wcm9tb3RlVG8KICAgICAgICB9KTsgLy8gcHJvbW90ZSB0byBxdWVlbiBmb3Igc2ltcGxpY2l0eQogICAgICAgIF90aGlzLmJvYXJkLnNldCh7CiAgICAgICAgICBmZW46IF90aGlzLmdhbWUuZmVuKCkKICAgICAgICB9KTsKICAgICAgICBfdGhpcy5jYWxjdWxhdGVQcm9tb3Rpb25zKCk7CiAgICAgICAgX3RoaXMuYWlOZXh0TW92ZSgpOwogICAgICB9OwogICAgfSwKICAgIGFpTmV4dE1vdmU6IGZ1bmN0aW9uIGFpTmV4dE1vdmUoKSB7CiAgICAgIHZhciBtb3ZlcyA9IHRoaXMuZ2FtZS5tb3Zlcyh7CiAgICAgICAgdmVyYm9zZTogdHJ1ZQogICAgICB9KTsKICAgICAgdmFyIHJhbmRvbU1vdmUgPSBtb3Zlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtb3Zlcy5sZW5ndGgpXTsKICAgICAgdGhpcy5nYW1lLm1vdmUocmFuZG9tTW92ZSk7CiAgICAgIHRoaXMuYm9hcmQuc2V0KHsKICAgICAgICBmZW46IHRoaXMuZ2FtZS5mZW4oKSwKICAgICAgICB0dXJuQ29sb3I6IHRoaXMudG9Db2xvcigpLAogICAgICAgIG1vdmFibGU6IHsKICAgICAgICAgIGNvbG9yOiB0aGlzLnRvQ29sb3IoKSwKICAgICAgICAgIGRlc3RzOiB0aGlzLnBvc3NpYmxlTW92ZXMoKSwKICAgICAgICAgIGV2ZW50czogewogICAgICAgICAgICBhZnRlcjogdGhpcy51c2VyUGxheSgpCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmJvYXJkLnNldCh7CiAgICAgIG1vdmFibGU6IHsKICAgICAgICBldmVudHM6IHsKICAgICAgICAgIGFmdGVyOiB0aGlzLnVzZXJQbGF5KCkKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgYnVzLiRvbigndW5kbycsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMyLnVuZG8oKTsKICAgIH0pOwogIH0KfTs="},{"version":3,"names":["chessboard","bus","name","extends","methods","undo","game","board","set","fen","userPlay","_this","orig","dest","isPromotion","promoteTo","onPromotion","move","from","to","promotion","calculatePromotions","aiNextMove","moves","verbose","randomMove","Math","floor","random","length","turnColor","toColor","movable","color","dests","possibleMoves","events","after","mounted","created","_this2","$on"],"sources":["src/newboard.vue"],"sourcesContent":["\n<script>\nimport { chessboard }  from 'vue-chessboard'\nimport bus from './bus.js'\n\nexport default {\n  name: 'newboard',\n  extends: chessboard,\n  methods: {\n    undo() {\n      this.game.undo()\n      this.board.set({fen: this.game.fen()})\n    },\n    userPlay() {\n      return (orig, dest) => {\n        if (this.isPromotion(orig, dest)) {\n          this.promoteTo = this.onPromotion()\n        }\n        this.game.move({from: orig, to: dest, promotion: this.promoteTo}) // promote to queen for simplicity\n        this.board.set({\n          fen: this.game.fen()\n        })\n        this.calculatePromotions()\n        this.aiNextMove()\n      };\n    },\n    aiNextMove() {\n      let moves = this.game.moves({verbose: true})\n      let randomMove = moves[Math.floor(Math.random() * moves.length)]\n      this.game.move(randomMove)\n\n      this.board.set({\n        fen: this.game.fen(),\n        turnColor: this.toColor(),\n        movable: {\n          color: this.toColor(),\n          dests: this.possibleMoves(),\n          events: { after: this.userPlay()},\n        }\n      });\n    },\n  },\n  mounted() {\n    this.board.set({\n      movable: { events: { after: this.userPlay()} },\n    })\n  },\n  created() {\n    bus.$on('undo', () => {\n      this.undo()\n    })\n  }\n}\n</script>\n"],"mappings":"AAEA,SAAAA,UAAA;AACA,OAAAC,GAAA;AAEA;EACAC,IAAA;EACAC,OAAA,EAAAH,UAAA;EACAI,OAAA;IACAC,IAAA,WAAAA,KAAA;MACA,KAAAC,IAAA,CAAAD,IAAA;MACA,KAAAE,KAAA,CAAAC,GAAA;QAAAC,GAAA,OAAAH,IAAA,CAAAG,GAAA;MAAA;IACA;IACAC,QAAA,WAAAA,SAAA;MAAA,IAAAC,KAAA;MACA,iBAAAC,IAAA,EAAAC,IAAA;QACA,IAAAF,KAAA,CAAAG,WAAA,CAAAF,IAAA,EAAAC,IAAA;UACAF,KAAA,CAAAI,SAAA,GAAAJ,KAAA,CAAAK,WAAA;QACA;QACAL,KAAA,CAAAL,IAAA,CAAAW,IAAA;UAAAC,IAAA,EAAAN,IAAA;UAAAO,EAAA,EAAAN,IAAA;UAAAO,SAAA,EAAAT,KAAA,CAAAI;QAAA;QACAJ,KAAA,CAAAJ,KAAA,CAAAC,GAAA;UACAC,GAAA,EAAAE,KAAA,CAAAL,IAAA,CAAAG,GAAA;QACA;QACAE,KAAA,CAAAU,mBAAA;QACAV,KAAA,CAAAW,UAAA;MACA;IACA;IACAA,UAAA,WAAAA,WAAA;MACA,IAAAC,KAAA,QAAAjB,IAAA,CAAAiB,KAAA;QAAAC,OAAA;MAAA;MACA,IAAAC,UAAA,GAAAF,KAAA,CAAAG,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,MAAA,KAAAL,KAAA,CAAAM,MAAA;MACA,KAAAvB,IAAA,CAAAW,IAAA,CAAAQ,UAAA;MAEA,KAAAlB,KAAA,CAAAC,GAAA;QACAC,GAAA,OAAAH,IAAA,CAAAG,GAAA;QACAqB,SAAA,OAAAC,OAAA;QACAC,OAAA;UACAC,KAAA,OAAAF,OAAA;UACAG,KAAA,OAAAC,aAAA;UACAC,MAAA;YAAAC,KAAA,OAAA3B,QAAA;UAAA;QACA;MACA;IACA;EACA;EACA4B,OAAA,WAAAA,QAAA;IACA,KAAA/B,KAAA,CAAAC,GAAA;MACAwB,OAAA;QAAAI,MAAA;UAAAC,KAAA,OAAA3B,QAAA;QAAA;MAAA;IACA;EACA;EACA6B,OAAA,WAAAA,QAAA;IAAA,IAAAC,MAAA;IACAvC,GAAA,CAAAwC,GAAA;MACAD,MAAA,CAAAnC,IAAA;IACA;EACA;AACA","ignoreList":[]}]}